// SPDX-License-Identifier: MIT

const utils = require('../../utils');
const { contracts_directory, compile_contract_file } = require("../../../lib/contract");
let faucet = require('../../players/faucet.json');
let player1 = require('../../players/player1.json');
let player2 = require('../../players/player2.json');

let txs = [];
let contract = compile_contract_file(contracts_directory, "audit/calldata.sol")[0];
let create_data = contract.bytecode;

const remote = function (c_address, str_data, loops, runner) {
    return contract.interface.encodeFunctionData("remote", [c_address, str_data, loops, runner])
}

let mode = utils.bench_args(process.argv, [{flag: '--count <n>', desc: 'Number of transfers', default: 0}]);
// player1 get 10_000 from faucet
txs.push(utils.transfer(faucet, player1, 10000000))
let create = utils.create(player1, 0, create_data);
txs.push(create.tx);
let create2 = utils.create(player1, 0, create_data);
txs.push(create2.tx);
// 1024 bytes
txs.push(utils.send(player1, create.addr, 0, remote(create2.addr, "\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.\
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, mattis sed sollicitudin in, egestas quis lacus. Aenean vitae enim dapibus, tempor mi vitae, tristique ipsum. Fusce ac blandit sem. Suspendisse efficitur vel purus ut dignissim. Suspendisse faucibus eros sodales, tempus nisl id, iaculis arcu. Aliquam pulvinar sapien vel elit tincidunt dapibus. Nunc in lobortis urna, sed molestie lacus. Donec efficitur tortor in felis consequat fermentum. Nunc neque mauris, dictum sit amet condimentum laoreet, tempus in nibh. In sed tincidunt quam. Donec ut interdum massa. Cras eu nibh efficitur, aliquam justo ac, finibus diam. Fusce at finibus ipsum. Donec sit amet nunc at tellus vehicula luctus. Quisque et lacus condimentum, semper lorem non, varius nisl. In dignissim quam ut augue congue suscipit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras suscipit molestie consequat. Vestibulum at auctor mi, vitae pellentesque urna. Phasellus eleifend dui eget tellus feugiat dictum at sed ex integer.",
    1, mode.extra.count)))

utils.print_bench([txs], mode)
