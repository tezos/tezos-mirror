[Unit]
Description=Octez Smart Rollup Node
Documentation=https://tezos.gitlab.io/
After=network.target octez-node.service

[Service]
EnvironmentFile=-/etc/default/octez-smart-rollup-node
User=tezos
WorkingDirectory=~
Restart=on-failure
RestartSec=10s
KillMode=control-group
ExecStart=/usr/bin/octez-smart-rollup-node run $RUNTIME_OPTS

ExecStartPre=+touch /var/log/tezos/smart-rollup-node.log
ExecStartPre=+chown tezos:tezos /var/log/tezos/smart-rollup-node.log

StandardOutput=append:/var/log/tezos/smart-rollup-node.log
StandardError=inherit

[Install]
WantedBy=multi-user.target
